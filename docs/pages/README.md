# í˜ì´ì§€ë³„ ìƒíƒœê´€ë¦¬ ì„¤ê³„ ë¬¸ì„œ
## University Data Visualization Dashboard

---

## ë¬¸ì„œ ê°œìš”

ì´ ë””ë ‰í† ë¦¬ëŠ” í”„ë¡œì íŠ¸ì˜ ê° í˜ì´ì§€ë³„ **ìƒíƒœê´€ë¦¬ ì„¤ê³„ ë¬¸ì„œ**ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. Django í…œí”Œë¦¿ ê¸°ë°˜ ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ ë°©ì‹ì— ìµœì í™”ëœ ìƒíƒœê´€ë¦¬ ì „ëµì„ ë‹¤ë£¹ë‹ˆë‹¤.

---

## ìƒíƒœê´€ë¦¬ ì² í•™

ë³¸ í”„ë¡œì íŠ¸ëŠ” **Django + Server-side Rendering** ë°©ì‹ì„ ì‚¬ìš©í•˜ë¯€ë¡œ, ì „í†µì ì¸ React/Context + useReducer íŒ¨í„´ ëŒ€ì‹  ë‹¤ìŒê³¼ ê°™ì€ ì ‘ê·¼ ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

### í•µì‹¬ ì›ì¹™
1. **ì„œë²„ê°€ ì§„ì‹¤ì˜ ì›ì²œ** (Single Source of Truth)
   - Database + Django Sessionì´ ëª¨ë“  ìƒíƒœë¥¼ ê´€ë¦¬
   - Django í…œí”Œë¦¿ ì»¨í…ìŠ¤íŠ¸ë¡œ ìƒíƒœ ì „ë‹¬
   - í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìƒíƒœëŠ” ìµœì†Œí™”

2. **Django ë‚´ì¥ ê¸°ëŠ¥ í™œìš©**
   - Django Session Framework (ì¸ì¦)
   - Django Forms (í¼ ê²€ì¦)
   - Django Messages Framework (ì¼íšŒì„± ë©”ì‹œì§€)
   - Django ORM (ë°ì´í„° ì¡°íšŒ ë° ì§‘ê³„)

3. **ìµœì†Œí•œì˜ JavaScript**
   - í¼ ê²€ì¦ ë° UX ê°œì„ ì—ë§Œ ì‚¬ìš©
   - Chart.jsëŠ” ì‹œê°í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œë§Œ í™œìš©
   - ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆí•„ìš”

---

## ë¬¸ì„œ êµ¬ì¡°

### ğŸ“„ ì „ì²´ ê°œìš”
- **[STATE-MANAGEMENT-OVERVIEW.md](./STATE-MANAGEMENT-OVERVIEW.md)**
  - ìƒíƒœê´€ë¦¬ ì² í•™ ë° ì „ëµ
  - ê³µí†µ íŒ¨í„´ (ê¶Œí•œ, í•„í„°, ë©”ì‹œì§€, Chart.js)
  - ì—ëŸ¬ ê´€ë¦¬, ì„±ëŠ¥ ìµœì í™”, ë³´ì•ˆ
  - ê°œë°œ ê°€ì´ë“œë¼ì¸

### ğŸ“ í˜ì´ì§€ë³„ ìƒì„¸ ë¬¸ì„œ

| í˜ì´ì§€ | ë¬¸ì„œ ê²½ë¡œ | ìƒíƒœ | ì£¼ìš” ë‚´ìš© |
|--------|----------|------|----------|
| **ë¡œê·¸ì¸/íšŒì›ê°€ì…** | [01-auth/state.md](./01-auth/state.md) | âœ… ì™„ë£Œ | Django Session, User ëª¨ë¸, í¼ ê²€ì¦ |
| **ëŒ€ì‹œë³´ë“œ** | 04-dashboard/state.md | â³ ì‘ì„± ì˜ˆì • | KPI ì§‘ê³„, ê¶Œí•œë³„ ë°ì´í„°, Chart.js |
| **í•™ê³¼ë³„ KPI ì‹œê°í™”** | 05-department-kpi/state.md | â³ ì‘ì„± ì˜ˆì • | í•„í„° ìƒíƒœ, ì§‘ê³„ ë°ì´í„°, ì°¨íŠ¸ ë Œë”ë§ |
| **ë…¼ë¬¸ ê²Œì¬ ì‹œê°í™”** | 06-publications/state.md | â³ ì‘ì„± ì˜ˆì • | ì €ë„ ë“±ê¸‰ í•„í„°, Impact Factor í†µê³„ |
| **ì—°êµ¬ë¹„ ì§‘í–‰ ì‹œê°í™”** | 07-research-budget/state.md | â³ ì‘ì„± ì˜ˆì • | ì§‘í–‰ë¥  ê³„ì‚°, ì§€ì›ê¸°ê´€ë³„ í†µê³„ |
| **í•™ìƒ ë°ì´í„° ì‹œê°í™”** | 08-students/state.md | â³ ì‘ì„± ì˜ˆì • | í•™ì ìƒíƒœ í•„í„°, ì¬í•™ë¥  ê³„ì‚° |
| **ì‚¬ìš©ì ìŠ¹ì¸/ê±°ë¶€** | 09-user-approval/state.md | â³ ì‘ì„± ì˜ˆì • | User status ì—…ë°ì´íŠ¸, ê´€ë¦¬ ë¡œê·¸ |
| **í”„ë¡œí•„ ê´€ë¦¬** | 10-profile-management/state.md | â³ ì‘ì„± ì˜ˆì • | ê°œì¸ì •ë³´ ìˆ˜ì •, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ |
| **ë°ì´í„° ì—…ë¡œë“œ ì´ë ¥** | 12-upload-history/state.md | â³ ì‘ì„± ì˜ˆì • | ì—…ë¡œë“œ ì´ë ¥ ì¡°íšŒ, ê¶Œí•œë³„ í•„í„°ë§ |

---

## ìƒíƒœ ê³„ì¸µ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Database (PostgreSQL)              â”‚  â† ì˜êµ¬ ì €ì¥ì†Œ
â”‚     User, KPI, Publications, etc.           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–²
                    â”‚ Django ORM
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Django Session                    â”‚  â† ì„¸ì…˜ ìƒíƒœ
â”‚  - Authentication (_auth_user_id)           â”‚
â”‚  - Messages (django.contrib.messages)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–²
                    â”‚ Template Context
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Django Template Context                â”‚  â† ìš”ì²­ë³„ ìƒíƒœ
â”‚  - form, user, request, page_data           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–²
                    â”‚ Render
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Client-side JavaScript (Minimal)         â”‚  â† ì¼ì‹œì  ìƒíƒœ
â”‚  - Form Input, UI State, Chart.js           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ê³µí†µ ìƒíƒœê´€ë¦¬ íŒ¨í„´

### 1. ê¶Œí•œ ê¸°ë°˜ ë°ì´í„° ì ‘ê·¼ (RBAC)
```python
def get_accessible_departments(user):
    if user.role in ['admin', 'manager']:
        return Department.objects.all()
    else:
        return Department.objects.filter(name=user.department)
```

### 2. í•„í„° ìƒíƒœ (URL Query Parameters)
```python
# URL: /analytics/publications?year=2025&department=ì»´ê³µ
year = request.GET.get('year')
department = request.GET.get('department')
queryset = Publication.objects.filter(
    publication_date__year=year,
    department=department
)
```

### 3. Django Messages (ì¼íšŒì„± ë©”ì‹œì§€)
```python
messages.success(request, 'ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.')
messages.error(request, 'ì…ë ¥ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.')
```

### 4. Chart.js ë°ì´í„° ì§ë ¬í™”
```python
from apps.analytics.serializers import to_bar_chart_data

chart_data = to_bar_chart_data(queryset, 'department', 'count')
context = {'chart_data': chart_data}
```

### 5. Django Forms (í¼ ê²€ì¦)
```python
class ProfileUpdateForm(forms.ModelForm):
    class Meta:
        model = User
        fields = ['name', 'department', 'position']

    def clean_name(self):
        name = self.cleaned_data['name']
        if len(name) < 2:
            raise forms.ValidationError('ì´ë¦„ì€ ìµœì†Œ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.')
        return name
```

---

## ê°œë°œ ê°€ì´ë“œ

### ìƒˆë¡œìš´ í˜ì´ì§€ ì¶”ê°€ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] **ìƒíƒœ ì •ì˜**: Database, Session, Client ìƒíƒœ ëª…ì‹œ
- [ ] **ê¶Œí•œ í™•ì¸**: `@login_required`, `@role_required` ì ìš©
- [ ] **í•„í„° ìƒíƒœ**: URL Query Parameters ì‚¬ìš©
- [ ] **ì—ëŸ¬ ì²˜ë¦¬**: Django Messages Framework í™œìš©
- [ ] **í¼ ê²€ì¦**: Django Forms ì‚¬ìš© (ì„œë²„ ì¸¡ í•„ìˆ˜)
- [ ] **Chart.js**: Serializerë¡œ ë°ì´í„° ì§ë ¬í™”
- [ ] **í…ŒìŠ¤íŠ¸ ì‘ì„±**: ë‹¨ìœ„ + í†µí•© í…ŒìŠ¤íŠ¸

### ì•ˆí‹°íŒ¨í„´ (í”¼í•´ì•¼ í•  ê²ƒ)

âŒ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì— ë°ì´í„° ì €ì¥ (localStorage, Redux ë“±)
âŒ JavaScriptë¡œ ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬
âŒ ì„¸ì…˜ì— ëŒ€ìš©ëŸ‰ ë°ì´í„° ì €ì¥
âŒ ì„œë²„ ì¸¡ ê²€ì¦ ìƒëµ

âœ… ì„œë²„ì—ì„œ ë°ì´í„° ì¡°íšŒ ë° ì²˜ë¦¬
âœ… Django ë‚´ì¥ ê¸°ëŠ¥ ìµœëŒ€ í™œìš©
âœ… í•„ìš”í•œ ê²ƒë§Œ ì„¸ì…˜ì— ì €ì¥
âœ… 2ë‹¨ê³„ ê²€ì¦ (í´ë¼ì´ì–¸íŠ¸ + ì„œë²„)

---

## ì°¸ê³  ë¬¸ì„œ

- **Use Cases**: [/docs/usecases/](../usecases/)
- **User Flow**: [/docs/userflow.md](../userflow.md)
- **Database Schema**: [/docs/database.md](../database.md)
- **Common Modules**: [/docs/common-modules.md](../common-modules.md)
- **PRD**: [/docs/prd.md](../prd.md)

---

## ë‹¤ìŒ ë‹¨ê³„

1. âœ… **ë¡œê·¸ì¸/íšŒì›ê°€ì… ìƒíƒœê´€ë¦¬ ì„¤ê³„** (ì™„ë£Œ)
2. âœ… **ì „ì²´ ê°œìš” ë¬¸ì„œ** (ì™„ë£Œ)
3. â³ **ëŒ€ì‹œë³´ë“œ ìƒíƒœê´€ë¦¬ ì„¤ê³„** (ì‘ì„± ì˜ˆì •)
4. â³ **ì‹œê°í™” í˜ì´ì§€ ìƒíƒœê´€ë¦¬ ì„¤ê³„** (ì‘ì„± ì˜ˆì •)
5. â³ **ê´€ë¦¬ì í˜ì´ì§€ ìƒíƒœê´€ë¦¬ ì„¤ê³„** (ì‘ì„± ì˜ˆì •)

ê° í˜ì´ì§€ë³„ ìƒì„¸ ì„¤ê³„ ë¬¸ì„œëŠ” [STATE-MANAGEMENT-OVERVIEW.md](./STATE-MANAGEMENT-OVERVIEW.md)ì˜ ê³µí†µ íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë©ë‹ˆë‹¤.

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-11-02
**ì‘ì„±ì**: Claude Code
**ë¬¸ì„œ ë²„ì „**: 1.0
